{% extends 'layout.html' %}
{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-9">
            <div class="card shadow-sm border-0" style="border-radius: 25px;">
                <div class="card-body p-4 p-md-5">
                    <div class="border-bottom pb-3 mb-4">
                        <span class="badge bg-soft-blue text-primary mb-2" style="background-color: #EBF3FF;">자유게시판</span>
                        <h2 class="fw-bold mb-3">{{ board.title }}</h2>
                        <div class="d-flex justify-content-between align-items-center text-muted small">
                            <div>
                                <i class="bi bi-person-circle me-1"></i> <strong>{{ board.nickname }}</strong>
                                <span class="mx-2">|</span>
                                <i class="bi bi-calendar-event me-1"></i> {{ board.write_date.strftime('%Y-%m-%d %H:%M') }}
                            </div>
                            <div>
                                <i class="bi bi-eye me-1"></i> 조회수 {{ board.view_count }}
                            </div>
                        </div>
                    </div>

                    <div class="py-3 mb-5" style="min-height: 300px; line-height: 1.8; white-space: pre-wrap;">{{ board.content }}</div>

                    <div class="d-flex justify-content-between border-top pt-4">
                        <a href="/board/list" class="btn btn-outline-secondary rounded-pill px-4">목록으로</a>

                        {# 작성자 본인에게만 수정/삭제 버튼 노출 #}
                        {% if session['user_id'] == board.member_id %}
                        <div>
                            <a href="/board/edit/{{ board.id }}" class="btn btn-outline-primary rounded-pill px-4 me-2">수정</a>
                            <a href="/board/delete/{{ board.id }}" class="btn btn-outline-danger rounded-pill px-4"
                               onclick="return confirm('정말 삭제하시겠습니까?')">삭제</a>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}